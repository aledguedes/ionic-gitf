<ion-header>
  <ion-toolbar>
    <ion-title>
      Gift Shop
    </ion-title>

    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>

    <ion-buttons slot="end">
      <ion-button fill="clear" [routerLink]="['/', 'home', 'cart']">
        <ion-icon name="bag-handle" slot="icon-only"></ion-icon>
        @if(totalItems > 0 ) {
        <ion-badge color="primary">
          <ion-text>{{totalItems}}</ion-text>
        </ion-badge>
        }
      </ion-button>
    </ion-buttons>
  </ion-toolbar>

  <ion-toolbar>
    <ion-searchbar debounce="800" #searchInput mode="ios" placeholder="Buscar por produtos..."
      (ionInput)="onSearchChange($event)">
    </ion-searchbar>
  </ion-toolbar>
</ion-header>

<!-- <ion-content>
  <ion-row>
    @defer (when isLoading) {
    @for (item of itemsM; track i; let i = $index) {
    <ion-col sizeLg="3" sizeMd="4" sizeSm="6" sizeXl="3" sizeXs="6">
      <ion-card [routerLink]="['gifts', item?.id]">
        <ion-thumbnail>
          <ion-img [src]="item?.cover"></ion-img>
        </ion-thumbnail>

        <ion-label>
          <ion-text color="dark"><strong>{{item?.name}}</strong></ion-text>
          <p>
            <ion-text color="dark">
              $<strong>{{item?.price}}</strong>
            </ion-text>

            <ion-text class="rating" color="dark">
              {{item?.rating}}
              <ion-icon name="star" color="warning"></ion-icon>
            </ion-text>
          </p>
        </ion-label>
      </ion-card>
    </ion-col>
    }
    } @placeholder {
    @for (item of dummyArray; track $index) {
    <ion-col sizeLg="3" sizeMd="4" sizeSm="6" sizeXl="3" sizeXs="6">
      <ion-card>
        <ion-thumbnail>
          <ion-skeleton-text animated="true"></ion-skeleton-text>
        </ion-thumbnail>
        <ion-label>
          <ion-skeleton-text animated="true"></ion-skeleton-text>
          <p>
            <ion-text color="dark">
              <ion-skeleton-text animated="true"></ion-skeleton-text>
            </ion-text>
            <ion-text class="rating" color="dark">
              <ion-skeleton-text animated="true"></ion-skeleton-text>
            </ion-text>
          </p>
        </ion-label>
      </ion-card>
    </ion-col>
    }
    }
  </ion-row>
</ion-content> -->

<ion-content>
  <ion-row>
    @defer (when isLoading) {
    @for (item of itemsF; track i; let i = $index) {
    <ion-col sizeLg="3" sizeMd="4" sizeSm="6" sizeXl="3" sizeXs="6">
      <ion-card [routerLink]="['gifts', item?.id]">
        <ion-thumbnail>
          <ion-img [src]="item?.image"></ion-img>
        </ion-thumbnail>

        <ion-label>
          <ion-text color="dark"><strong>{{item?.title}}</strong></ion-text>
          <p>
            <ion-text color="primary">
              $<strong>{{item?.price}}</strong>
            </ion-text>

            <!-- <ion-text class="rating" color="dark">
              {{item?.rating}}
              <ion-icon name="star" color="warning"></ion-icon>
            </ion-text> -->
          </p>
        </ion-label>
      </ion-card>
    </ion-col>
    }
    } @placeholder {
    @for (item of dummyArray; track $index) {
    <ion-col sizeLg="3" sizeMd="4" sizeSm="6" sizeXl="3" sizeXs="6">
      <ion-card>
        <ion-thumbnail>
          <ion-skeleton-text animated="true"></ion-skeleton-text>
        </ion-thumbnail>
        <ion-label>
          <ion-skeleton-text animated="true"></ion-skeleton-text>
          <p>
            <ion-text color="dark">
              <ion-skeleton-text animated="true"></ion-skeleton-text>
            </ion-text>
            <ion-text class="rating" color="dark">
              <ion-skeleton-text animated="true"></ion-skeleton-text>
            </ion-text>
          </p>
        </ion-label>
      </ion-card>
    </ion-col>
    }
    }
  </ion-row>
</ion-content>